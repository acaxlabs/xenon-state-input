<link rel="import" href="../polymer/polymer.html" />
<link rel="import" href="../xenon-dropdown/xenon-dropdown.html"/>
<link rel="import" href="../iron-form-element-behavior/iron-form-element-behavior.html">
<link rel="import" href="../iron-validatable-behavior/iron-validatable-behavior.html"/>
<script src="us-states.js"></script>
<!--
`<lithium-quote>` is an awesome element.

Example:

    <xenon-state-input></xenon-state-input>

### Styling
    No styling

@element xenon-state-input
@demo demo/index.html
-->
<dom-module id="xenon-state-input">
    <template>
        <xenon-dropdown id="dp"  label="[[label]]" selected="{{state}}" error-message="[[errorMessage]]" required="[[required]]">
            <template is="dom-repeat" items="[[states]]">
                <div value="[[item]]">[[item.name]]</div>
            </template>
        </xenon-dropdown>
    </template>
    <script>
		Polymer({
			is:"xenon-state-input",
			properties: {
                errorMessage:String,
                required:{type:Boolean, notify:true, reflectToAttribute:true },
                label:String,
			    /* this property has a comment description */
			    state: { type: Object, notify: true, observer:"_onStateChanged" },
			    /* this property has a comment description */
			    stateCode: { type: String, notify: true },
			    /* this property has a comment description */
			    stateName: { type: String, notify: true },
			    states: { type: Array, notify: true, value: [] }
			},
			_onStateChanged: function (state) {
			    if (state === undefined) return;
			    this.set("stateCode", state.abbreviation);
			    this.set("stateName", state.name);
			},
			ready: function () {
			    this.set("states", usstates);
			},
			behaviors: [
              Polymer.IronValidatableBehavior,
              Polymer.IronFormElementBehavior
			],
			validate: function () {
			    return this.$.dp.validate();
			}
		});
    </script>
</dom-module>
